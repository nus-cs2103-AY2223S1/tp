<!-- Custom fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Epilogue:wght@500&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/solid.min.css"
  integrity="sha512-uj2QCZdpo8PSbRGL/g5mXek6HM/APd7k/B5Hx/rkVFPNOxAQMXD+t+bG4Zv8OAdUpydZTU3UHmyjjiHv2Ww0PA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/gumshoe@5.1.1/dist/gumshoe.polyfills.min.js"></script>
<script defer>
  document.addEventListener("DOMContentLoaded", () => {
    const header = document.getElementsByClassName("site-header")[0];
    const spy = new Gumshoe(".sticky-toc li a", {
      nested: true,
      nestedClass: "active-parent",
      reflow: true,
    });
    spy.setup();
  });
  document.addEventListener("gumshoeActivate", (e) => {
    const classes = document.getElementsByClassName("sticky-toc")[0].classList;
    classes.remove("hidden");
    classes.add("shown");
  });
  document.addEventListener("gumshoeDeactivate", (e) => {
    const classes = document.getElementsByClassName("sticky-toc")[0].classList;
    classes.remove("shown");
    classes.add("hidden");
  });
</script>
<script defer>
  // PrinceXML only supports ES5
  document.addEventListener("DOMContentLoaded", function () {
    var targets = document.querySelectorAll(
      "article.post h2:not(.no_toc), article.post h3:not(.no_toc), article.post h4:not(.no_toc)"
    );
    for (var i = 0; i < targets.length; i++) {
      var e = targets[i];
      e.innerHTML =
        '<a class="header-backlink" href="#markdown-toc-' +
        e.id +
        '">' +
        e.innerHTML +
        "</a>";
    }
  });
</script>
